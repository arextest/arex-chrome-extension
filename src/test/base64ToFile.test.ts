import { describe, it } from 'vitest';

import base64ToFile from '../utils/base64ToFile.ts';

describe('测试base64', () => {
    it('测base64', () => {
        const s = base64ToFile('data:application/octet-stream;base64,aW1wb3J0IHJlYWN0IGZyb20gJ0B2aXRlanMvcGx1Z2luLXJlYWN0LXN3Yyc7CmltcG9ydCB7IGRlZmluZUNvbmZpZyB9IGZyb20gJ3ZpdGUnOwoKaW1wb3J0IHByb3h5IGZyb20gJy4vY29uZmlnL3Byb3h5JzsKLy8g5byA5Y+R546v5aKD6K6+572uCmNvbnN0IGVudiA9ICdmYXQnOwovLyBjb25zdCBlbnYgPSAndWF0X2Rldic7CmNvbnN0IGNvbnZlcnRQcm94eUNvbmZpZzogYW55ID0ge307Ci8vIEB0cy1pZ25vcmUKY29uc3QgcHJveHlDb25maWc6IGFueSA9IHByb3h5W2Vudl07Cgpmb3IgKGNvbnN0IHByb3h5Q29uZmlnS2V5IGluIHByb3h5Q29uZmlnKSB7CiAgY29uc3QgcmV3cml0ZUtleSA9IE9iamVjdC5rZXlzKHByb3h5Q29uZmlnW3Byb3h5Q29uZmlnS2V5XS5wYXRoUmV3cml0ZSlbMF07CiAgY29uc3QgcmV3cml0ZVZhbHVlID0gU3RyaW5nKE9iamVjdC52YWx1ZXMocHJveHlDb25maWdbcHJveHlDb25maWdLZXldLnBhdGhSZXdyaXRlKVswXSk7CiAgY29udmVydFByb3h5Q29uZmlnW3Byb3h5Q29uZmlnS2V5XSA9IHt9OwogIGNvbnZlcnRQcm94eUNvbmZpZ1twcm94eUNvbmZpZ0tleV0udGFyZ2V0ID0gcHJveHlDb25maWdbcHJveHlDb25maWdLZXldLnRhcmdldDsKICBjb252ZXJ0UHJveHlDb25maWdbcHJveHlDb25maWdLZXldLmNoYW5nZU9yaWdpbiA9IHByb3h5Q29uZmlnW3Byb3h5Q29uZmlnS2V5XS5jaGFuZ2VPcmlnaW47CiAgY29udmVydFByb3h5Q29uZmlnW3Byb3h5Q29uZmlnS2V5XS5yZXdyaXRlID0gKHBhdGg6IHN0cmluZykgPT4KICAgIHBhdGgucmVwbGFjZShyZXdyaXRlS2V5LCByZXdyaXRlVmFsdWUpOwp9CgpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb25maWcoewogIHBsdWdpbnM6IFsKICAgIHJlYWN0KHsKICAgICAganN4SW1wb3J0U291cmNlOiAnQGVtb3Rpb24vcmVhY3QnLAogICAgfSksCiAgICB7CiAgICAgIC8vIOino+WGs+W+queOr+S+nei1lgogICAgICBuYW1lOiAnc2luZ2xlSE1SJywKICAgICAgaGFuZGxlSG90VXBkYXRlKHsgbW9kdWxlcyB9KSB7CiAgICAgICAgbW9kdWxlcy5tYXAoKG0pID0+IHsKICAgICAgICAgIG0uaW1wb3J0ZWRNb2R1bGVzID0gbmV3IFNldCgpOwogICAgICAgICAgbS5pbXBvcnRlcnMgPSBuZXcgU2V0KCk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIG1vZHVsZXM7CiAgICAgIH0sCiAgICB9LAogIF0sCiAgc2VydmVyOiB7CiAgICBwb3J0OiA4ODg4LAogICAgcHJveHk6IGNvbnZlcnRQcm94eUNvbmZpZywKICB9LAp9KTsK','vite.config.ts')
        expect(s.name).toBe('vite.config.ts')
    });
});
